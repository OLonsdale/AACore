<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#faebd7"/>

    <link rel="stylesheet" href="styles.css" />
    <link rel="shortcut icon" href="./resouces/favicon_16px.png" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./resouces/favicon-ios.png" />
    
    <link rel="manifest" href="./manifest.json" />

    <title>AACore</title>
  </head>

  <body>
    <div id="sidebar" class="hidden sidebar">
      <button class="sidebarButton closeSidebarButton">Close</button>
      <h2>Settings:</h2>
      <div>
        <label for="voicesSelect">Select Voice:</label>
        <select id="voicesSelect">
          <option disabled>Select Voice</option>
        </select>
      </div>
      <div>
        <label for="sentenceAutoDeleteCheckbox">
          Delete sentence after speaking:
        </label>
        <input type="checkbox" name="delete" id="sentenceAutoDeleteCheckbox" />
      </div>

      <div>
        <label for="editModeCheckbox">Edit boards:</label>
        <input type="checkbox" name="editMode" id="editModeCheckbox" />
      </div>

      <div id="editBoardArea" class="inlineSidebar hidden">
        <h3>Edit Board:</h3>
        <br>
        <div>
          <label for="duplicateCurrentBoardButton">Duplicate Board</label>
          <button id="duplicateCurrentBoardButton" class="sidebarButton">Duplicate Current Board</button>
        </div>
        <br>
        <div>
          <label for="deleteCurrentBoardButton">Delete Board</label>
          <button id="deleteCurrentBoardButton" class="sidebarButton"></button>
        </div>
        <br>
        <div>
          <label for="boardNameEditInput">Rename Board:</label> 
          <input id="boardNameEditInput">
        </div>
        <br>
        <div>
          <label for="topLevelEditInput">Board is visible in sidebar</label>
          <input type="checkbox" id="topLevelEditInput">
        </div>
        <br>
        <button class="sidebarButton" id="saveBoardEditButton">Save Edit</button>
      </div>

      <h3>Find Word:</h3>
      <div class="displayFlexRow">
        <input type="text" id="findWordInput">
        <button id="clearWordSearchButton" title="Clear" aria-label="Clear search" class="inlineSidebarButton"><img alt="delete icon" width="30" height="20" src="./resouces/delete.svg"></button>
      </div>
      <div id="wordSearchResultsElement">
        <!-- filled by JS on search button -->
      </div>

      <h3>Premade Boards:</h3>
      <div id="premadeBoardSelectionList">
        <!-- Filled by JS -->
      </div>

      <h3>Custom Boards:</h3>
      <div id="customBoardSelectionList">
        <!-- Filled by JS -->
      </div>

      <h3>Boards:</h3>
      <nav>
        <button class="sidebarButton" id="createBoardMenuButton">
          New Board
        </button>
        <button class="sidebarButton" id="importBoardButton">
          Import Board
        </button>
        <button class="sidebarButton" id="exportBoardButton">
          Export Board
        </button>
      </nav>
      <input id="importInput" type="file" accept=".json" class="hidden" />

      <h3>Other:</h3>
      <button class="sidebarButton" id="lockSidebarButton">Lock sidebar</button>

      

      <button id="showAboutButton" class="sidebarButton">About</button>
      
    </div>

    <div id="createBoardSidebar" class="hidden sidebar">
      <button class="sidebarButton closeSidebarButton">
        Close
      </button>
      <h2>Create Board</h2>
      <div>
        <label for="nameInput">Name: (must be unique)</label>
      </div>
      <div>
        <input id="nameInput" type="text" />
      </div>
      <div>
        <label for="rowsInput">Rows:</label>
      </div>
      <div class="displayFlexRow">
        <input
          id="rowsInput"
          type="range"
          min="3"
          max="10"
          step="1"
          value="3"
        />
        <div id="rowsInputDisplay">3</div>
      </div>
      <div>
        <label for="colsInput">Columns:</label>
      </div>
      <div class="displayFlexRow">
        <input
          id="colsInput"
          type="range"
          min="3"
          max="12"
          step="1"
          value="3"
        />
        <div id="colsInputDisplay">3</div>
      </div>

      <div>
        <label for="topLevelInput">Show in sidebar:</label>
        <input type="checkbox" id="topLevelInput" />
      </div>

      <button class="sidebarButton" id="generateEmptyButton">Create</button>
    </div>

    <div id="editTileSidebar" class="hidden sidebar">
      <button class="sidebarButton closeSidebarButton">
        Close
      </button>
      
      <h2>Edit Tile</h2>
      <div><button class="sidebarButton" id="clearCurrentTileButton">Clear Current Tile</button></div>

      <div><label for="selectedTileNumber">Selected Tile:</label></div>
      <div><input id="selectedTileNumber" type="text" disabled /></div>


      <div><label for="displayNameInput">Display Name:</label></div>
      <div><input id="displayNameInput" type="text" /></div>

      <button id="toggleEditTileExtra" class="sidebarButton">
        Show Extra Options
      </button>

      <div id="editTileExtra" class="hidden">
        <div>
          <label for="pronounciationInput">Pronounciation (if required):</label>
        </div>
        <div><input id="pronounciationInput" type="text" /></div>

        <div><label for="pastTenseInput">Past Tense:</label></div>
        <div><input id="pastTenseInput" type="text" /></div>

        <div>
          <label for="pastTensePronounciationInput">
            Past Tense Pronounciation:
          </label>
        </div>
        <div><input id="pastTensePronounciationInput" type="text" /></div>

        <div><label for="pluralInput">Plural/Third Person Form:</label></div>
        <div><input id="pluralInput" type="text" /></div>

        <div>
          <label for="pluralPronounciationInput">
            Plural/Third Person Pronounciation:
          </label>
        </div>

        <div><input id="pluralPronounciationInput" type="text" /></div>

        <div><label for="negationInput">Negative Form:</label></div>
        <div><input id="negationInput" type="text" /></div>

        <div>
          <label for="negationPronounciationInput">
            Negative Pronounciation:
          </label>
        </div>
        <div><input id="negationPronounciationInput" type="text" /></div>
      </div>

      <div>
        <label for="colourInput">Colour:</label>
      </div>
      <div>
        <select id="colourInput">
          <option value="red">Red</option>
          <option value="pink">Pink</option>
          <option value="orange">Orange</option>
          <option value="yellow">Yellow</option>
          <option value="green">Green</option>
          <option value="blue">Blue</option>
          <option value="grey">Grey</option>
          <option value="white">White</option>
          <option value="linkColour">For Type:Link</option>
        </select>
      </div>

      <div>
        <label for="tileType">Type:</label>
      </div>
      <div>
        <select id="tileTypeInput">
          <option value="blank">Blank</option>
          <option value="textAndIcon">Icon and Text</option>
          <option value="textOnly">Text Only</option>
          <option value="link">Link to another board (unspoken)</option>
        </select>
      </div>
      <div id="iconTileSettings" class="hidden">
        <div>
          <label id="iconNameInputLable" for="iconNameInput">Icon Name:</label>
        </div>
        <div><input id="iconNameInput" type="text" /></div>

        <div>
          <label id="iconLinkInputHidden" for="iconLinkInput">Icon Link:</label>
        </div>
        <div><input id="iconLinkInput" type="text" /></div>
      </div>

      <div>
        <label for="linkToInput">Link to board:</label>
      </div>
      <div>
        <select id="linkToInput">
          <option value="">None</option>
          <!-- Other options added by JS -->
        </select>
      </div>

      <button class="sidebarButton" id="editTileSubmitButton">
        Save Edit to Tile
      </button>
    </div>

    <div id="aboutSidebar" class="hidden sidebar">
      <button class="sidebarButton closeSidebarButton">Close</button>
      <h2>About</h2>
      <p>Welcome to AACore. 
        <br><br> 
        This is an initiative to provide free access to a robust voice output communication system for children and young people with communication difficulties. 
        <br><br>
        Resources to be used under supervision of a Speech and Language Therapist 
      </p>
      <h2>Version</h2>
      <p>0.0.73</p>
    </div>

    <div id="topBar" class="topBar">
      <button id="sidebarButton" class="largeText">â˜°</button>
      <input
        class="sentenceDisplay"
        id="sentenceDisplay"
        title="Click to play sentence"
        readonly
      >
      </input>

      <button
      title="Delete Last Word"
      aria-label="Delete Last Word"
      id="deleteLastButton"
      class="playbackButton"
    >
      <img
        alt="delete icon"
        src="./resouces/delete.svg"
      />
    </button>
      <button
        title="Delete Sentence"
        aria-label="Clear Sentence"
        id="clearButton"
        class="playbackButton"
      >
        <img
          alt="delete icon"
          src="./resouces/delete-all.svg"
        />
      </button>
    </div>

    <div class="container">
      <ol id="boardSection" class="board">
        <noscript>
          You need JavaScript to use this site. Please upgrade to a modern
          browser or disable script blocking plugins.
        </noscript>
      </ol>
    </div>

    <script type="module" src="scripts.js"></script>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyCSAcOic3TkQX0O2DnDhBNYCUcd0CZQVKM",
        authDomain: "aacore-80543.firebaseapp.com",
        projectId: "aacore-80543",
        storageBucket: "aacore-80543.appspot.com",
        messagingSenderId: "977847235379",
        appId: "1:977847235379:web:e8cf0e8ae82dbd5f448446",
        measurementId: "G-CBG84BD8M8",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
    </script>

    <script>
      if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js').then(function() { 
          console.log("Service Worker Registered"); 
        });
      }
    </script>

  </body>
</html>
